{"version":3,"sources":["webpack:///./src/components/searchPage/Search.js","webpack:///./src/pages/directors-list.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/_strict-method.js"],"names":["Search","props","_this","_Component","call","this","state","persons","concat","data","search","order","orderInput","ada","searchByName","bind","assertThisInitialized_default","setSort","setInputSort","e","value","target","setState","linkToPersonPage","id","window","localStorage","setItem","location","assign","render","checkInput","_this2","copyArray","check","sort","a","b","name","filter","person","toLowerCase","includes","react_default","createElement","className","placeholder","onChange","map","key","onClick","placeOfBirth","dateOfDeath","src","photo","alt","width","height","Component","DirectorsList","Layout","components_searchPage_Search","gatsby_browser_entry","to","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","configurable","get","match","$export","aFunction","toObject","fails","$sort","test","P","F","undefined","comparefn","module","exports","method","arg"],"mappings":"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","file":"component---src-pages-directors-list-js-012ba399b68319dfb858.js","sourcesContent":["import React, { Component } from 'react';\n\nimport './Search.css';\nimport data from '../../data/person_content.json';\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      persons: [...data],\n      search: '',\n      order: '',\n      orderInput: 'name',\n      ada: false,\n    };\n\n    this.searchByName = this.searchByName.bind(this);\n    this.setSort = this.setSort.bind(this);\n    this.setInputSort = this.setInputSort.bind(this);\n  }\n\n  searchByName(e) {\n    let value = e.target.value;\n\n    this.setState({ search: value });\n  }\n\n  setSort(e) {\n    let value = e.target.value;\n\n    this.setState({ order: value });\n  }\n\n  setInputSort(e) {\n    let value = e.target.value;\n\n    this.setState({ orderInput: value });\n  }\n\n  // Этот метод linkToPersonPage надо как-то задать, чтобы window.localStorage подтянулось браузером, т.е. после отрисовки.....\n\n  // componentDidMount() {\n  //   linkToPersonPage = id => {\n  //     window.localStorage.setItem('id', id);\n  //     window.location.assign('/person-page');\n  //   };\n  //   this.setState({ ada: true });\n  // }\n\n  linkToPersonPage (id) {\n    window.localStorage.setItem('id', id);\n    window.location.assign('/person-page');\n  };\n\n  render() {\n    let copyArray = [...this.state.persons];\n\n    if (this.state.order) {\n      let check = this.state.order === 'az' ? 1 : -1;\n      copyArray.sort((a, b) => {\n        if (a.name > b.name) {\n          return check;\n        } else {\n          return -check;\n        }\n      });\n    }\n\n    if (this.state.search) {\n      let checkInput;\n      if (this.state.orderInput) {\n        checkInput = this.state.orderInput === 'name' ? 'name' : 'placeOfBirth';\n      }\n\n      copyArray = copyArray.filter(person => {\n        return person[checkInput].toLowerCase().includes(this.state.search.toLowerCase());\n      });\n    }\n\n    return (\n      <div className=\"search\">\n        <div className=\"search__block\">\n          <div className=\"search__block__cnt\">\n            <input placeholder=\"Поиск по:\" onChange={this.searchByName} />\n            <select onChange={this.setInputSort} className=\"\">\n              <option value=\"name\">имени</option>\n              <option value=\"place\">локации</option>\n            </select>\n          </div>\n          <div>\n            <label className=\"select-label\">Сортировать по имени:</label>\n            <select onChange={this.setSort}>\n              <option value=\"az\">A-Z</option>\n              <option value=\"za\">Z-A</option>\n            </select>\n          </div>\n        </div>\n        {this.state.ada ? (\n          <div className=\"search__block__list\">\n            {copyArray.map(person => (\n              <div\n                className=\"search__block__one\"\n                key={person.id}\n                onClick={() => this.linkToPersonPage(person.id)}\n              >\n                <div>\n                  <div>\n                    <span>Имя:</span> {person.name}\n                  </div>\n                  <div>\n                    <span>Место рождения:</span> {person.placeOfBirth}\n                  </div>\n                  <div>\n                    <span>Дата смерти:</span> {person.dateOfDeath}\n                  </div>\n                </div>\n                <div>\n                  <img src={person.photo} alt={person.name} width=\"100px\" height=\"100px\" />\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React from 'react'\nimport { Link } from 'gatsby'\n\nimport Search from '../components/searchPage/Search'\nimport Layout from '../layouts/Layout'\n\nconst DirectorsList = () => (\n  <Layout>\n    <Search />\n    <Link to=\"/\">Вернуться на главную страницу</Link>\n  </Layout>\n)\n\nexport default DirectorsList\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n"],"sourceRoot":""}